docker.enabled = true

// Input parameters

params {
    results_folder       = "$HOME/indrops_outputs"

    input_csv            = "${projectDir}/data/SRA_indrops_sample_sheet.csv"
    whitelist_half       = "${projectDir}/data/gel_barcode2_list.txt"
    
    // Reference files for STAR index and STARsolo
    //genome_fasta = "$HOME/gencode_v44_human_ref/GRCh38.primary_assembly.genome.fa"
    //gtf_file = "$HOME/gencode_v44_human_ref/gencode.v44.basic.annotation.gtf"

    genome_fasta = "$HOME/gencode_v44_human_ref/chrM.fa"
    gtf_file = "$HOME/gencode_v44_human_ref/chrM.gtf"

    gencode_genome_link       = "https://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_49/GRCh38.primary_assembly.genome.fa.gz"
    gencode_annotation_link       = "https://ftp.ebi.ac.uk/pub/databases/gencode/Gencode_human/release_49/gencode.v49.basic.annotation.gtf.gz"

    
    // STAR index location
    //star_index_dir = "$HOME/STAR_index"
    star_index_dir = "$HOME/STAR_index_chrM"


    //reference             = "${projectDir}/data/XR_C_human.fa"
}


// Process configuration
process {
    // Default resources
    container = 'indrops_starsolo_nf'
    cpus = 1
    memory = '1.GB'
    
    withName: 'FASTP' {
        cpus = 4
        memory = '2.GB'
    }

    withName: 'STAR_INDEX' {
        cpus = 14
        memory = '32.GB'
        time = '4.h'
    }
    
    withName: 'STARSOLO_ALIGN' {
        cpus = 14
        memory = '40.GB'
        time = '4.h'
    }
}